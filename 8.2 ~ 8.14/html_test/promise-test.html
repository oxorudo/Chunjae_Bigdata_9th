<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // api call을 위해서는 promise에 대해 알아야 한다.
    // promise : 어떤 함수의 실행 순서를 정해 준다.
    // 동기와 비동기에 대하여 알아야 한다.

    // 긴 시간을 가지는 함수 생성
    function longTime(){
        let data = 0;
        setTimeout(() => {
            console.log("함수 longTime 실행");
            data = 10;
        }, 3000); // 3000 : 3초
        return data;
    }

    // console.log("함수 시작");
    // const result = longTime(); // 여길 기다리지 않고 다음 줄을 바로 실행해버리는 문제가 발생한다.
    // console.log("함수 끝", result);

    // 그래서 등장한 것이 promise이다.
    function promiseData() {
        return new Promise((resolve, reject) => {
            let data = 0;
            setTimeout(() => {
                data = 10;
                resolve(data);
            }, 3000);
            
        });
    }
    // promise의 실행은 이렇게 되어야 한다.
    promiseData().then((response) => {
        console.log(response)
    })

    async function main() { // 함수의 실행을 기다려 줄 수 있음.
        console.log("함수 시작");
    const result = await promiseData(); // promiseData를 기다려 준다.
    console.log("함수 끝", result);
    }

    main();
</script>
</html>